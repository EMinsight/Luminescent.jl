<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guide · Luminescent.jl</title>
    <meta name="title" content="Guide · Luminescent.jl" />
    <meta property="og:title" content="Guide · Luminescent.jl" />
    <meta property="twitter:title" content="Guide · Luminescent.jl" />
    <meta name="description" content="Documentation for Luminescent.jl." />
    <meta property="og:description" content="Documentation for Luminescent.jl." />
    <meta property="twitter:description" content="Documentation for Luminescent.jl." />
    <script data-outdated-warner src="../assets/warner.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet"
        type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet"
        type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet"
        type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet"
        type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet"
        type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css" />
    <script>documenterBaseURL = ".."</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"
        data-main="../assets/documenter.js"></script>
    <script src="../search_index.js"></script>
    <script src="../siteinfo.js"></script>
    <script src="../../versions.js"></script>
    <link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css"
        data-theme-name="documenter-dark" data-theme-primary-dark />
    <link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css"
        data-theme-name="documenter-light" data-theme-primary />
    <script src="../assets/themeswap.js"></script>
</head>

<body>
    <div id="documenter">
        <nav class="docs-sidebar">
            <div class="docs-package-name"><span class="docs-autofit"><a href="../">Luminescent.jl</a></span></div>
            <button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2"
                id="documenter-search-query">Search docs (Ctrl + /)</button>
            <ul class="docs-menu">
                <li><a class="tocitem" href="../">Home</a></li>
                <li class="is-active"><a class="tocitem" href>Guide</a>
                    <ul class="internal">
                        <li><a class="tocitem" href="#Implementation"><span>Implementation</span></a></li>
                        <li><a class="tocitem" href="#Sources"><span>Sources</span></a></li>
                        <li><a class="tocitem" href="#Boundaries"><span>Boundaries</span></a></li>
                        <li><a class="tocitem" href="#Monitors"><span>Monitors</span></a></li>
                        <li><a class="tocitem" href="#Physics"><span>Physics</span></a></li>
                        <li><a class="tocitem" href="#GPU-support"><span>GPU support</span></a></li>
                        <li><a class="tocitem" href="#Automatic-differentiation-adjoints"><span>Automatic
                                    differentiation adjoints</span></a></li>
                        <li><a class="tocitem" href="#Generative-inverse-design"><span>Generative inverse
                                    design</span></a></li>
                        <li><a class="tocitem" href="#Comparison-with-other-FDTD-software"><span>Comparison with other
                                    FDTD software</span></a></li>
                    </ul>
                </li>
                <li><a class="tocitem" href="../tutorials/">Tutorials</a></li>
                <li><a class="tocitem" href="../people/">People</a></li>
            </ul>
            <div class="docs-version-selector field has-addons">
                <div class="control"><span class="docs-label button is-static is-size-7">Version</span></div>
                <div class="docs-selector control is-expanded">
                    <div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div>
                </div>
            </div>
        </nav>
        <div class="docs-main">
            <header class="docs-navbar"><a
                    class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop"
                    id="documenter-sidebar-button" href="#"></a>
                <nav class="breadcrumb">
                    <ul class="is-hidden-mobile">
                        <li class="is-active"><a href>Guide</a></li>
                    </ul>
                    <ul class="is-hidden-tablet">
                        <li class="is-active"><a href>Guide</a></li>
                    </ul>
                </nav>
                <div class="docs-right"><a class="docs-navbar-link" href="https://github.com/paulxshen/fdtd"
                        title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span
                            class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link"
                        href="https://github.com/paulxshen/fdtd/blob/master/makedocs/src/guide.md"
                        title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a
                        class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button"
                        href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up"
                        id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a>
                </div>
            </header>
            <article class="content" id="documenter-page">
                <h1 id="Guide"><a class="docs-heading-anchor" href="#Guide">Guide</a><a id="Guide-1"></a><a
                        class="docs-heading-anchor-permalink" href="#Guide" title="Permalink"></a></h1>
                <h2 id="Implementation"><a class="docs-heading-anchor" href="#Implementation">Implementation</a><a
                        id="Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation"
                        title="Permalink"></a></h2>
                <p>Length and time are in units of wavelength and period. This normalization allows usage of relative
                    permitivity and permeability in equations . Fields including electric, magnetic and current density
                    are simply bundled as a vector of vectors of arrays . Boundary conditions pad the field arrays . PML
                    paddings are multilayered, while All other boundaries add single layers. Paddings are stateful and
                    permanent, increasing the size of field and geometry arrays. Finite differencing happens every
                    update update and are coordinated to implictly implement a staggered Yee&#39;s grid .</p>
                <h2 id="Sources"><a class="docs-heading-anchor" href="#Sources">Sources</a><a id="Sources-1"></a><a
                        class="docs-heading-anchor-permalink" href="#Sources" title="Permalink"></a></h2>
                <p>If a source has fewer nonzero dimensions than the simulation domain, its signal will get normalized
                    along its singleton dimensions. For example, all planar sources in 3d or line sources in 2d will get
                    scaled up by a factor of <code>1/dx</code>. This way, discretisation would not affect radiated
                    power.</p>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.PlaneWave"
                            href="#Main.Luminescent.PlaneWave"><code>Main.Luminescent.PlaneWave</code></a> — <span
                            class="docstring-category">Type</span></header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">function PlaneWave(f, dims; fields...)</code></pre>
                            <p>Constructs plane wave source</p>
                            <p>Args</p>
                            <ul>
                                <li>f: time function</li>
                                <li>dims: eg -1 for wave coming from -x face</li>
                                <li>fields: which fields to excite &amp; their scaling constants (typically a current
                                    source, eg Jz=1)</li>
                            </ul>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/sources.jl#L1-L10">source</a>
                    </section>
                </article>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.Source"
                            href="#Main.Luminescent.Source"><code>Main.Luminescent.Source</code></a> — <span
                            class="docstring-category">Type</span></header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">function Source(f, c, lb, ub, label=&quot;&quot;; fields...)
function Source(f, c, L, label=&quot;&quot;; fields...)</code></pre>
                            <p>Constructs custom source. Can be used to specify uniform or modal sources</p>
                            <p>Args</p>
                            <ul>
                                <li>f: time function</li>
                                <li>c: origin or center of source</li>
                                <li>lb: lower bounds wrt to c</li>
                                <li>ub: upper bounds wrt to c</li>
                                <li>L: source dimensions in [wavelengths]</li>
                                <li>fields: which fields to excite &amp; their scaling constants (typically a current
                                    source, eg Jz=1)</li>
                            </ul>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/sources.jl#L44-L57">source</a>
                    </section>
                </article>
                <h2 id="Boundaries"><a class="docs-heading-anchor" href="#Boundaries">Boundaries</a><a
                        id="Boundaries-1"></a><a class="docs-heading-anchor-permalink" href="#Boundaries"
                        title="Permalink"></a></h2>
                <p>Unspecified boundaries default to PML </p>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.Periodic"
                            href="#Main.Luminescent.Periodic"><code>Main.Luminescent.Periodic</code></a> — <span
                            class="docstring-category">Type</span></header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">Periodic(dims)</code></pre>
                            <p>periodic boundary</p>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/boundaries.jl#L10-L15">source</a>
                    </section>
                </article>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.PML"
                            href="#Main.Luminescent.PML"><code>Main.Luminescent.PML</code></a> — <span
                            class="docstring-category">Type</span></header>
                    <section>
                        <div>
                            <p>function PML(dims, d=0.25f0, σ=20.0f0)</p>
                            <pre><code class="nohighlight hljs">Constructs perfectly matched layers (PML aka ABC, RBC) boundary of depth `d` wavelengths 
Doesn&#39;t need to be explictly declared as all unspecified boundaries default to PML</code></pre>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/boundaries.jl#L43-L48">source</a>
                    </section>
                </article>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.PEC"
                            href="#Main.Luminescent.PEC"><code>Main.Luminescent.PEC</code></a> — <span
                            class="docstring-category">Type</span></header>
                    <section>
                        <div>
                            <p>PEC(dims)</p>
                            <p>perfect electrical conductor dims: eg -1 for -x side</p>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/boundaries.jl#L20-L25">source</a>
                    </section>
                </article>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.PMC"
                            href="#Main.Luminescent.PMC"><code>Main.Luminescent.PMC</code></a> — <span
                            class="docstring-category">Type</span></header>
                    <section>
                        <div>
                            <p>PMC(dims)</p>
                            <p>perfect magnetic conductor</p>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/boundaries.jl#L30-L34">source</a>
                    </section>
                </article>
                <h2 id="Monitors"><a class="docs-heading-anchor" href="#Monitors">Monitors</a><a id="Monitors-1"></a><a
                        class="docs-heading-anchor-permalink" href="#Monitors" title="Permalink"></a></h2>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.Monitor"
                            href="#Main.Luminescent.Monitor"><code>Main.Luminescent.Monitor</code></a> — <span
                            class="docstring-category">Function</span></header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">function Monitor(c, L; normal=nothing, label=&quot;&quot;)
function Monitor(c, lb, ub; normal=nothing, label=&quot;&quot;)</code></pre>
                            <p>Constructs monitor which can span a point, line, surface, volume or point cloud
                                monitoring fields or power. </p>
                            <p>Args</p>
                            <ul>
                                <li>
                                    <p>c: origin or center of monitor</p>
                                </li>
                                <li>
                                    <p>L: physical dimensions of monitor</p>
                                </li>
                                <li>
                                    <p>lb: lower bounds wrt to c</p>
                                </li>
                                <li>
                                    <p>ub: upper bounds wrt to c</p>
                                </li>
                                <li>
                                    <p>normal: flux monitor direction (eg normal to flux surface)</p>
                                </li>
                            </ul>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/monitors.jl#L25-L38">source</a>
                    </section>
                </article>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.power"
                            href="#Main.Luminescent.power"><code>Main.Luminescent.power</code></a> — <span
                            class="docstring-category">Function</span></header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">function power(m::MonitorInstance, u)</code></pre>
                            <p>total power (Poynting flux) passing thru monitor surface</p>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/monitors.jl#L136-L140">source</a>
                    </section>
                </article>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.flux"
                            href="#Main.Luminescent.flux"><code>Main.Luminescent.flux</code></a> — <span
                            class="docstring-category">Function</span></header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">function flux(m::MonitorInstance, u)</code></pre>
                            <p>power density (avg Poynting flux) passing thru monitor </p>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/monitors.jl#L119-L123">source</a>
                    </section>
                </article>
                <h2 id="Physics"><a class="docs-heading-anchor" href="#Physics">Physics</a><a id="Physics-1"></a><a
                        class="docs-heading-anchor-permalink" href="#Physics" title="Permalink"></a></h2>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.update!"
                            href="#Main.Luminescent.update!"><code>Main.Luminescent.update!</code></a> —
                        <span class="docstring-category">Function</span>
                    </header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">function update!(u, p, t, field_padding, source_instances)
function update!(u1, u, p, t, field_padding, source_instances)</code></pre>
                            <p>Updates fields for 3d. Please use <code>update</code> instead of
                                <code>update!</code> when doing AD. Mutating <code>update!</code> Writes
                                new fields either onto old fields or into buffer arrays u1
                            </p>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/update.jl#L14-L19">source</a>
                    </section>
                </article>
                <article class="docstring">
                    <header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;"
                            title="Collapse docstring"></a><a class="docstring-binding" id="Main.Luminescent.update"
                            href="#Main.Luminescent.update"><code>Main.Luminescent.update</code></a> —
                        <span class="docstring-category">Function</span>
                    </header>
                    <section>
                        <div>
                            <pre><code class="language-julia hljs">function update(u, p, t, field_padding, source_instances)</code></pre>
                            <p>Updates fields for 3d in a manner amenable to AD. See also Mutating
                                <code>update!</code>
                            </p>
                        </div><a class="docs-sourcelink" target="_blank"
                            href="https://github.com/paulxshen/fdtd/blob/fcac5a329d42bfaca96c4863efa75a99f6707086/src/update.jl#L94-L98">source</a>
                    </section>
                </article>
                <h2 id="GPU-support"><a class="docs-heading-anchor" href="#GPU-support">GPU support</a><a
                        id="GPU-support-1"></a><a class="docs-heading-anchor-permalink" href="#GPU-support"
                        title="Permalink"></a></h2>
                <p>Simply use <code>Flux.gpu</code> to move simulation variables to GPU. This turns <code>Arrays</code>
                    into CUDA arrays which get processed on GPU for both forward and backpropagation passes</p>
                <h2 id="Automatic-differentiation-adjoints"><a class="docs-heading-anchor"
                        href="#Automatic-differentiation-adjoints">Automatic differentiation adjoints</a><a
                        id="Automatic-differentiation-adjoints-1"></a><a class="docs-heading-anchor-permalink"
                        href="#Automatic-differentiation-adjoints" title="Permalink"></a></h2>
                <p>Compatible with <code>Zygote.jl</code> and <code>Flux.jl</code>. Please use
                    <code>update</code> instead of <code>update!</code> when doing AD. See inverse
                    design examples
                </p>
                <h2 id="Generative-inverse-design"><a class="docs-heading-anchor"
                        href="#Generative-inverse-design">Generative inverse design</a><a
                        id="Generative-inverse-design-1"></a><a class="docs-heading-anchor-permalink"
                        href="#Generative-inverse-design" title="Permalink"></a></h2>
                <p>Please contact us for latest scripts. We wrote <a
                        href="https://github.com/paulxshen/Jello.jl">Jello.jl</a>, an innovative Fourier domain neural
                    model to generate length scale controlled efficiently paramaterized geometry .</p>
                <h2 id="Comparison-with-other-FDTD-software"><a class="docs-heading-anchor"
                        href="#Comparison-with-other-FDTD-software">Comparison with other FDTD software</a><a
                        id="Comparison-with-other-FDTD-software-1"></a><a class="docs-heading-anchor-permalink"
                        href="#Comparison-with-other-FDTD-software" title="Permalink"></a></h2>
                <p>Our focus is on inverse design and topology optimization using adjoints from automatic
                    differentiation. We love a streamlined API backed by a clear, concise and extensible codebase.
                    Attention is paid to speed and malloc but that&#39;s not our main concern. Meep is the most popular
                    open source FDTD package owing to its maturity and comprehensive features. It supports AD in certain
                    cases using custom adjoints which we avoid in our package in favor of more flexibility . There are
                    numerous commercial software eg Ansys Lumerical, Comsol and various EDA or SI software. TMK none of
                    them supports AD for inverse design </p>
            </article>
            <nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a
                    class="docs-footer-nextpage" href="../tutorials/">Tutorials »</a>
                <div class="flexbox-break"></div>
                <p class="footer-message">Powered by <a
                        href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a
                        href="https://julialang.org/">Julia Programming Language</a>.</p>
            </nav>
        </div>
        <div class="modal" id="documenter-settings">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Settings</p><button class="delete"></button>
                </header>
                <section class="modal-card-body">
                    <p><label class="label">Theme</label>
                    <div class="select"><select id="documenter-themepicker">
                            <option value="documenter-light">documenter-light</option>
                            <option value="documenter-dark">documenter-dark</option>
                            <option value="auto">Automatic (OS)</option>
                        </select></div>
                    </p>
                    <hr />
                    <p>This document was generated with <a
                            href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span
                            class="colophon-date" title="Thursday 7 March 2024 17:58">Thursday 7 March 2024</span>.
                        Using Julia version 1.10.1.</p>
                </section>
                <footer class="modal-card-foot"></footer>
            </div>
        </div>
    </div>
</body>

</html>